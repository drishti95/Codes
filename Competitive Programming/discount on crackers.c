#include<stdio.h>
#include<string.h>
int main()
{
long long int te,m,i,p,n,c,ch;
char s[1001],t[1001],mapp[10],a[10],b[10];
scanf("%lld",&te);
while(te--)
{
fflush(stdin);
scanf("%s",&s);
fflush(stdin);
scanf("%s",&t);
fflush(stdin);
scanf("%lld",&m);
p=strlen(s);
n=m;
while(m--)
{
scanf("%s",&mapp);
a[m]=mapp[0];
b[m]=mapp[3];
}
c=1;
while(c)
{
ch=0;
for(i=0;i<p;i++)
{
if(s[i]!=t[i])
{
m=n;
while(m--)
{
if(s[i]==a[m])
{
s[i]=b[m];
ch++;
m=0;
}
}
}
}
if(strcmp(s,t))
{if(ch)
continue;
else
c=0;
}
else
{printf("YES\n");
c=0;
}
}
if(!ch)
printf("NO\n");
}
}
